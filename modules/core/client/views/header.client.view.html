<div class="container" ng-controller="HeaderController as vm">

<!-- Main Nav Header [mnh] -->
  <nav class="main-nav">

    <ul ng-if="vm.menu.shouldRender(vm.authentication.user);">

      <li ng-repeat="item in vm.menu.items | orderBy: 'position'"
          ng-if="item.shouldRender(vm.authentication.user);"
          ng-switch="item.type"
          ng-class="{ dropdown: item.type === 'dropdown' }"
          ui-sref-active="active"
          class="{{item.class}}"
          uib-dropdown="item.type === 'dropdown'">

      <!-- SubItem Dropdown [submenu] -->
        <a ng-switch-when="dropdown" uib-dropdown-toggle role="button">
            {{::item.title}}
        </a>
        <ul ng-switch-when="dropdown">
          <li ng-repeat="subitem in item.items | orderBy: 'position'"
              ng-if="subitem.shouldRender(vm.authentication.user);">
            <a ui-sref="{{subitem.state}}({{subitem.params}})"
               ng-bind="subitem.title">

            </a>
          </li>
        </ul><!-- End [submenu] -->

        <!-- Not Sure Yet [?] -->
        <a ng-switch-default
           ui-sref="{{item.state}}"
           ng-bind="item.title">

        </a><!-- End [?] -->
      </li>
    </ul>

    <ul ng-hide="vm.authentication.user">
      <li ui-sref-active="active">
        <a ui-sref="authentication.signup">Sign Up</a>
      </li>
      <li></li>
      <li ui-sref-active="active">
        <a ui-sref="authentication.signin">Sign In</a>
      </li>
    </ul>


      <!-- [user options nav] -->

      <ul ng-show="vm.authentication.user" class="user-options-nav">
      <li class="dropdown">
        <a class="">
          <img ng-src="/{{vm.authentication.user.profileImageURL}}"
               alt="{{vm.authentication.user.displayName}}" />
          <span ng-bind="vm.authentication.user.displayName"></span>
        </a>
        <ul>
          <li ui-sref-active="active"
              ng-repeat="item in vm.accountMenu.items">
            <a ui-sref="{{item.state}}"
               ng-bind="item.title"></a>
          </li>
          <li class="divider"></li>
          <li>
            <a href="/api/auth/signout" target="_self">
                Signout
            </a>
          </li>
        </ul>
      </li>
    </ul>  <!-- End [user options nav] -->


  </nav><!-- End [mnh] -->
    <!-- Logo [logo] -->
    <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
        <a class="logo" href="/home">
          <span class="text">
              Segura
              <i class="fa fa-pencil-square"></i>
          </span>
        </a>
    </div><!-- End [logo] -->
    <!-- Main Nav [main nav] -->
    <nav class="main-nav">
        <ul>
            <li>
                <a ui-sref-active="selected" ui-sref="home">Home</a>
            </li>
            <li>
                <a ui-sref-active="selected" ui-sref="projects">Projects</a>
            </li>
            <li>
                <a ui-sref-active="selected" ui-sref="gallery">Gallery</a>
            </li>
            <li>
                <a ui-sref-active="selected" ui-sref="blog">Blog</a>
            </li>
            <li>
                <a ui-sref-active="selected" ui-sref="admin">Admin</a>
            </li>
        </ul>
    </nav><!-- End [main nav] -->
</div>
